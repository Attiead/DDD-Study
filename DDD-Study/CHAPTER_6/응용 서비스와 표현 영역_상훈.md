What
---

### 1. 표현 영역과 응용 영역
- 도메인이 제 기능을 하려면 사용자와 도메인을 연결해 주는 매개체가 필요.
- 표현 영역 : 사용자 요청에 맞게 HTML 이나 JSON 형식으로 응답.
- 응용 영역 : 기능 실행에 필요한 입력 값을 받고 실행 결과만 리턴.

### 2. 응용 서비스의 역할
- 클라이언트가 요청한 기능을 실행. 요청을 처리하기 위해 리포지터리에서 도메인 객체를 가져와 사용.
- 응용 서비스는 주로 도메인 객체 간의 흐름을 제어
- 응용 서비스에서 도메인 로직의 일부를 구현하면 코드 중복, 로직 분산 등 코드 품질에 좋지 않다.
- 트랜잭션 처리도 담당, 응용 서비스는 도메인의 상태 변경을 트랜잭션으로 처리해야 함.
```java
public Result doSomeFunc(SomeReq req) {
    // 1. 리포지터리에서 애그리거트를 구함
    SomeAgg agg = someAggRepository.findById(req.getId());
    checkNull(agg);
    
    // 2. 애그리거트의 도메인 기능을 실행
    agg.doFunc(req.getValue());
    
    // 3. 결과를 리턴한다.
    return createSucessResult(agg);
}

public Result doSomeCreation(CreateSomeReq req) {
    // 1. 데이터 중복 등 데이터가 유효한지 검사.
    validate(req);
    
    // 2. 애그리거트를 생성
    SomeAgg newAgg = createSome(req);
    
    // 3. 리포지터리에 애그리거트를 저장
    someAggRepository.save(newAgg);
    
    // 4. 결과를 리턴
    return createSuccessResult(newAgg);
}

public void blockMembers(String[] args) {
    if (blockingIds == null || blockingIds.length == 0) return;
    List<Member> members = memberRepository.findByIdIn(blockingIds);
    for (Member mem : members) {
        mem.block();    
    }
}

```