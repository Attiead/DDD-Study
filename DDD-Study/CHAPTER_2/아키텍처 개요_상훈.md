What
---
### 1. 계층화 아키텍쳐
- 목표 : 어플리케이션을 여러 개의 굵직한 횡단 관심사(cross-cutting concern)로 분리하여,<br>
수평계층으로 구성되며 각각의 layer는 하나의 관심사에만 집중할 수 있도록 함
- 특징 : 계층 구조는 위에 있는 계층에서는 아래 있는 계층에 접근이 가능 but 아래에서 위로는 불가능함

### 2. keyword
##### 프레젠테이션 계층 (사용자 인터페이스)
  - 사용자에게 UI를 제공하거나 클라이언트에 응답을 다시 보내는 역할을 하는 모든 클래스가 포함
  - 백엔드 어플리케이션의 경우 presentation layer는 아래와 같은 역할을 함
     - client로부터 request를 받고 response를 return 하는 API의 정의
##### 응용 프로그램 계층 
   - 소프트웨어가 비즈니스 로직을 정의하고 정상적으로 수행될 수 있도록 도메인 계층과 인프라스트럭쳐 계층을 연결해 주는 역할을 하는 계층.
   - 실질적인 데이터의 상태변화 등의 처리는 도메인 계층에서 진행할 수 있도록 위임하는 것이 중요
##### 도메인 계층
   - 도메인 모델을 구현, 핵심 로직을 구현한다.
##### 인프라스트럭쳐 계층 (영속성 계층)
   - 상위 계층을 지원하는 일반화되 기술적 기능을 제공하는 계층<br>
   - 해당 계층에서 얻어온 정보를 응용계층 또는 도메인 계층에 전달하는 것을 주 역할
##### DIP
   - 의존 역전 원칙
##### 도메인 영역의 주요 구성요소
   - 엔티티
     - 고유의 식별자를 갖는 객체, 자신의 라이프 사이클을 갖는다.
     - 도메인 모델의 엔티티는 데이터와 함께 기능 구현을 캡슐화해서 데이터가 임의로 변경되는 것을 막음.
   - 밸류
     - 고유의 식별자를 갖지 않는 객체, 개념적으로 하나인 값을 표현할 대 사용됨
     - 엔티티의 속성으로 사용할 뿐만 아니라 다른 밸류 타입의 속성으로도 사용할 수 있다.
   - 애그리거트
     - 연관된 엔티티와 밸류를 개념적으로 하나로 묶음.(논리적으로 연관 관계가 있는 order, orderer, orderLine)
   - 리포지터리
     - 도메인 모델의 영속성을 처리. DBMS 테이블에서 엔티티 객체를 로딩하거나 저장
     - 애그리거트 단위로 도메인 객체를 저장하고 조회하는 기능을 정의
   - 도메인 서비스
     - 특정 엔티티에 속하지 않은 도메인 로직을 제공.

Why
---
### layered architecture의 장점
##### 장점
- 각 레이어를 loosely coupling(결합도, 의존정도) 된 형태로 구축하면서, 각자 자신의 관심사에만 집중할 수 있음.
- 핵심 비즈니스 로직을 순수하게 유지함으로써 유지보수와 확장성 측면에서 이득을 얻을 수 있음
- 각 레이어에 서로 다른 추상화 수준을 가진 상태와 행동을 위치시킴으로써 코드 재사용성을 높일 수 있음
### 왜 DIP 가 등장하는지, 주의할 것은
- 계층화 구조에 의해 인프라스트럭쳐에 다른 계층들이 의존하게 된다
- DIP는 저수준 모듈의 고수준 모듈에 의존하도록 바꿈 (feat. 추상화된 인터페이스)
- 고수준 모듈에 필요한 저수준 모듈의 역할을 추상화한 인터페이스.
- 추상화된 인터페이스를 단순히 저수준 모듈에서 추출한다면 의존 역전이 되지 않으며, 고수준 모듈의 관점에서 추출되어야 함
- 구체적인 정책에서 할인 되는 것이 아닌 단순히 '할인한다'에 초점
### 도메인 영역의 주요 구성
##### 질문) 왜 RDBMS와 같은 관계형 데이터베이스는 밸류 타입으르 제대로 표현하기가 힘들까?
##### 애그리거트
- 개별 객체가 아닌 관련 객체를 묶어서 객체 군집 단위로 모델을 바라볼 수 있게 된다.
- 묶여 있기에 드러나는 관게로 도메인 모델을 이해하고 구현할 수 있게됨
- 애그리거트는 군집에 속한 객체를 관리하는 루트 엔티티를 가지며, 이를 통해 내부 구현을 숨겨서 애그리거트 단위로 구현을 캡슐화할 수 있도록 도와줌
### 모듈 구성
- 도메인이 크면 하위 도메인으로 나누고 각 하위 도메인 마다 별도 패키지를 구성
- 도메인 모듈은 도메인에 속한 애그리거트를 기준으로 다시 패키지를 구성

How
---

